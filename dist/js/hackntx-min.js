function getUrlParam(a){var t={};return decodeURIComponent(window.location.href.slice(window.location.href.indexOf("?")+1)).split("&").forEach(function(a,n){var i=a.split("=",2);t[i[0]]=i[1]}),a&&a in t?t[a]:null}function generateAlert(a,t){return'<div class="alert alert-'+t+'">\n  <div class="container">\n  <div class="alert-icon">\n  <i class="material-icons">check</i>\n  </div>\n  <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n  <span aria-hidden="true"><i class="material-icons">clear</i></span>\n  </button>\n  <b>'+t+":</b> "+a+".\n  </div>\n  </div>"}function generateModal(a,t){return'<div class="modal" id="notification-modal" tabindex="-1" role="dialog">\n  <div class="modal-dialog" role="document">\n  <div class="modal-content">\n  <div class="modal-header">\n  <h5 class="modal-title">'+a+'</h5>\n  <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n  <span aria-hidden="true">&times;</span>\n  </button>\n  </div>\n  <div class="modal-body">\n  <p>'+t+'</p>\n  </div>\n  <div class="modal-footer">\n  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n  </div>\n  </div>\n  </div>\n  </div>'}function parseNotifications(){if(getUrlParam("notification")){var a=getUrlParam("notification"),t=$(".notification-target");$.getJSON("/assets/json/notifications.json",function(n){$.each(n,function(n,i){if(n==a){var e=i.type,o=i.message,s=o;if("alert"==e)s=generateAlert(o,i.severity),t.prepend(s);else if("modal"==e){s=generateModal(i.title,o),t.after(s),$("#notification-modal").modal()}}})})}}jQuery.fn.serializeFormJSON=function(){var a={},t=this.serializeArray();return jQuery.each(t,function(){a[this.name]?(a[this.name].push||(a[this.name]=[a[this.name]]),a[this.name].push(this.value||"")):a[this.name]=this.value||""}),a},function(a){a(document).ready(function(){a(".video-container").fitVids(),parseNotifications();var t=a("#challenge-form");a("input#timestamp",t).val(Date.now()),t.attr("sheetsu-after-submit",window.location.href+"?notifcation=challenge");var n={transportation:{color:"warning",icon:"bus"},health:{color:"danger",icon:"heartbeat"},utilities:{color:"info",icon:"lightbulb-o"},safety:{color:"warning",icon:"exclamation-triangle"},"smart city":{color:"success",icon:"leaf"},other:{color:"danger",icon:"cogs"}},i=a("#challenge-ideas");if(i.length>0){let a=a=>'\n      <div class="col-md-4">\n        <div class="card bg-'+a["category-color"]+'">\n            <div class="card-body">\n              <h5 class="card-category card-category-social">\n                <i class="fa fa-'+a["category-icon"]+'"></i> '+a.Category+'\n              </h5>\n              <h4 class="card-title">\n                "'+a.Idea+'"\n              </h4>\n            </div>\n            <div class="card-footer">\n              <div class="author">\n                <a href="https://twitter.com/'+a.Twitter+'">\n                  <img src="https://avatars.io/twitter/'+a.Twitter+'" alt="'+a.Twitter+' profile image" class="avatar img-raised">\n                  <span>'+a.Twitter+"</span>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      ";fetch("https://sheetsu.com/apis/v1.0bu/6167299f6e6e").then(a=>a.json()).then(t=>{t.forEach(t=>{t["category-color"]=n[t.Category].color,t["category-icon"]=n[t.Category].icon,t.Twitter||(t.Twitter="twitter"),t.Approved&&i.append(a(t))})}).catch(a=>console.log("error fetching ideas: ",a))}})}(jQuery);