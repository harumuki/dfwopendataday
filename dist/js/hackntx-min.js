function getUrlParam(t){var a={};return decodeURIComponent(window.location.href.slice(window.location.href.indexOf("?")+1)).split("&").forEach(function(t,n){var i=t.split("=",2);a[i[0]]=i[1]}),t&&t in a?a[t]:null}function generateAlert(t,a){return'<div class="alert alert-'+a+'">\n  <div class="container">\n  <div class="alert-icon">\n  <i class="material-icons">check</i>\n  </div>\n  <button type="button" class="close" data-dismiss="alert" aria-label="Close">\n  <span aria-hidden="true"><i class="material-icons">clear</i></span>\n  </button>\n  <b>'+a+":</b> "+t+".\n  </div>\n  </div>"}function generateModal(t,a){return'<div class="modal" id="notification-modal" tabindex="-1" role="dialog">\n  <div class="modal-dialog" role="document">\n  <div class="modal-content">\n  <div class="modal-header">\n  <h5 class="modal-title">'+t+'</h5>\n  <button type="button" class="close" data-dismiss="modal" aria-label="Close">\n  <span aria-hidden="true">&times;</span>\n  </button>\n  </div>\n  <div class="modal-body">\n  <p>'+a+'</p>\n  </div>\n  <div class="modal-footer">\n  <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>\n  </div>\n  </div>\n  </div>\n  </div>'}function parseNotifications(){if(getUrlParam("notification")){var t=getUrlParam("notification"),a=$(".notification-target");$.getJSON("/assets/json/notifications.json",function(n){$.each(n,function(n,i){if(n==t){var e=i.type,o=i.message,r=o;if("alert"==e)r=generateAlert(o,i.severity),a.prepend(r);else if("modal"==e){r=generateModal(i.title,o),a.after(r),$("#notification-modal").modal()}}})})}}jQuery.fn.serializeFormJSON=function(){var t={},a=this.serializeArray();return jQuery.each(a,function(){t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},function(t){t(document).ready(function(){t(".video-container").fitVids(),parseNotifications();var a=t(".card-container").isotope({itemSelector:".card-wrapper"});t(".filters-button-group").on("click",".nav-link",function(){var n=t(this).attr("data-filter");a.isotope({filter:n})});var n=t("#challenge-form");t("input#timestamp",n).val(Date.now()),n.attr("sheetsu-after-submit",window.location.href+"?notifcation=challenge");var i={transportation:{color:"warning",icon:"bus"},health:{color:"danger",icon:"heartbeat"},utilities:{color:"info",icon:"lightbulb-o"},safety:{color:"warning",icon:"exclamation-triangle"},"smart city":{color:"success",icon:"leaf"},other:{color:"danger",icon:"cogs"}},e=t("#challenge-ideas");if(e.length>0){let t=t=>'\n      <div class="col-md-4">\n      <div class="card bg-'+t["category-color"]+'">\n      <div class="card-body">\n      <h5 class="card-category card-category-social">\n      <i class="fa fa-'+t["category-icon"]+'"></i> '+t.Category+'\n      </h5>\n      <h4 class="card-title">\n      "'+t.Idea+'"\n      </h4>\n      </div>\n      <div class="card-footer">\n      <div class="author">\n      <a href="https://twitter.com/'+t.Twitter+'">\n      <img src="https://avatars.io/twitter/'+t.Twitter+'" alt="'+t.Twitter+' profile image" class="avatar img-raised">\n      <span>'+t.Twitter+"</span>\n      </a>\n      </div>\n      </div>\n      </div>\n      </div>\n      ";fetch("https://sheetsu.com/apis/v1.0bu/6167299f6e6e").then(t=>t.json()).then(a=>{a.forEach(a=>{a["category-color"]=i[a.Category].color,a["category-icon"]=i[a.Category].icon,a.Twitter||(a.Twitter="twitter"),a.Approved&&e.append(t(a))})}).catch(t=>console.log("error fetching ideas: ",t))}})}(jQuery);